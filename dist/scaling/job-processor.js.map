{"version":3,"file":"job-processor.js","sourceRoot":"","sources":["../../src/scaling/job-processor.ts"],"names":[],"mappings":"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"}